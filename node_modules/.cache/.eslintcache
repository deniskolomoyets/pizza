[{"/Users/deniskolomoyets/Documents/Projects/pizza/src/redux/store.js":"1","/Users/deniskolomoyets/Documents/Projects/pizza/src/components/Header.jsx":"2","/Users/deniskolomoyets/Documents/Projects/pizza/src/pages/Cart.jsx":"3","/Users/deniskolomoyets/Documents/Projects/pizza/src/pages/Home.jsx":"4","/Users/deniskolomoyets/Documents/Projects/pizza/src/pages/NotFound.jsx":"5","/Users/deniskolomoyets/Documents/Projects/pizza/src/redux/slices/cartSlice.js":"6","/Users/deniskolomoyets/Documents/Projects/pizza/src/redux/slices/filterSlice.js":"7","/Users/deniskolomoyets/Documents/Projects/pizza/src/redux/slices/pizzaSlice.js":"8","/Users/deniskolomoyets/Documents/Projects/pizza/src/components/Search/index.jsx":"9","/Users/deniskolomoyets/Documents/Projects/pizza/src/components/CartItem.jsx":"10","/Users/deniskolomoyets/Documents/Projects/pizza/src/components/CartEmpty.jsx":"11","/Users/deniskolomoyets/Documents/Projects/pizza/src/components/Categories.jsx":"12","/Users/deniskolomoyets/Documents/Projects/pizza/src/components/Sort.jsx":"13","/Users/deniskolomoyets/Documents/Projects/pizza/src/components/PizzaBlock/Skeleton.jsx":"14","/Users/deniskolomoyets/Documents/Projects/pizza/src/components/PizzaBlock/index.jsx":"15","/Users/deniskolomoyets/Documents/Projects/pizza/src/Pagination/index.jsx":"16","/Users/deniskolomoyets/Documents/Projects/pizza/src/components/NotFoundBlock/index.jsx":"17","/Users/deniskolomoyets/Documents/Projects/pizza/src/index.tsx":"18","/Users/deniskolomoyets/Documents/Projects/pizza/src/App.tsx":"19","/Users/deniskolomoyets/Documents/Projects/pizza/src/pages/FullPizza.tsx":"20"},{"size":268,"mtime":1695747815389,"results":"21","hashOfConfig":"22"},{"size":2822,"mtime":1695747815386,"results":"23","hashOfConfig":"22"},{"size":5378,"mtime":1695747815388,"results":"24","hashOfConfig":"22"},{"size":5056,"mtime":1695747815388,"results":"25","hashOfConfig":"22"},{"size":167,"mtime":1695747815388,"results":"26","hashOfConfig":"22"},{"size":1249,"mtime":1695747815388,"results":"27","hashOfConfig":"22"},{"size":1392,"mtime":1695747815389,"results":"28","hashOfConfig":"22"},{"size":1354,"mtime":1695747815389,"results":"29","hashOfConfig":"22"},{"size":1645,"mtime":1695747815387,"results":"30","hashOfConfig":"22"},{"size":4133,"mtime":1695747815386,"results":"31","hashOfConfig":"22"},{"size":637,"mtime":1695747815386,"results":"32","hashOfConfig":"22"},{"size":542,"mtime":1695747815386,"results":"33","hashOfConfig":"22"},{"size":3286,"mtime":1695747815387,"results":"34","hashOfConfig":"22"},{"size":645,"mtime":1695747815387,"results":"35","hashOfConfig":"22"},{"size":2573,"mtime":1695747815387,"results":"36","hashOfConfig":"22"},{"size":649,"mtime":1695747815385,"results":"37","hashOfConfig":"22"},{"size":364,"mtime":1695747815387,"results":"38","hashOfConfig":"22"},{"size":427,"mtime":1695753770108,"results":"39","hashOfConfig":"22"},{"size":680,"mtime":1695754013544,"results":"40","hashOfConfig":"22"},{"size":894,"mtime":1695837646145,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},"ppistj",{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"45"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"45"},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"90","messages":"91","suppressedMessages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"93","messages":"94","suppressedMessages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/deniskolomoyets/Documents/Projects/pizza/src/redux/store.js",[],[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/components/Header.jsx",[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/pages/Cart.jsx",[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/pages/Home.jsx",["106","107","108"],[],"import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport qs from 'qs';\nimport {Link, useNavigate } from 'react-router-dom';\n\nimport {\n  selectFilter,\n  setCategoryId,\n  setCurrentPage,\n  setFilters,\n} from '../redux/slices/filterSlice';\nimport Categories from '../components/Categories';\nimport Sort, { list } from '../components/Sort';\nimport PizzaBlock from '../components/PizzaBlock';\nimport Skeleton from '../components/PizzaBlock/Skeleton';\nimport Pagination from '../Pagination';\nimport { fetchPizzas, selectPizzaData } from '../redux/slices/pizzaSlice';\n\nconst Home = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const isMounted = React.useRef(false);\n\n  const { items, status } = useSelector(selectPizzaData);\n\n  // const categoryId = useSelector((state) => state.filter.categoryId);\n  // const sortType = useSelector((state) => state.filter.sort.sortProperty);\n  // const currentPage = useSelector((state) => state.filter.currentPage);\n  // const searchValue = useSelector((state) => state.filter.searcValue);\n\n  const { categoryId, sort, currentPage, searchValue } = useSelector(selectFilter);\n\n  const onChangeCategory = (id) => {\n    dispatch(setCategoryId(id));\n  };\n\n  const onChangePage = (number) => {\n    dispatch(setCurrentPage(number));\n  };\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const getPizzas = async () => {\n    const sortBy = sort.sortProperty.replace('-', '');\n    const order = sort.sortProperty.includes('-') ? 'asc' : 'decs';\n    const category = categoryId > 0 ? `category=${categoryId}` : '';\n    const search = searchValue ? `&search=${searchValue}` : '';\n\n    // await axios\n    //   .get(\n    //     `https://-64aaeb3e0c6d844abedefbc9.mockapi.io/items?page=${currentPage}&limit=4&${category}&sortBy=${sortBy}&order=${order}${search}`,\n    //   )\n    //   .then((res) => {\n    //     setItems(res.data); //answer from backend is stored in date\n    //     setIsLoading(false);\n    //   }).catch((err) => {\n    //     setIsLoading(false);\n    //   })\n\n    dispatch(\n      fetchPizzas({\n        sortBy,\n        order,\n        category,\n        search,\n        currentPage,\n      }),\n    );\n    window.scrollTo(0, 0);\n  };\n\n  // if changed parameters and was first render\n  //если первого рендера не было, не надо вшивать в адресную строчку параметры (больше как лайфхак)\n  React.useEffect(() => {\n    if (isMounted.current) {\n      //если был 1 рендер  если это будет true то делай нижнюю информацию\n      const queryString = qs.stringify({\n        // если пришли параметры превращаю их в одну строчку\n        sortProperty: sort.sortProperty,\n        categoryId,\n        currentPage,\n      });\n      navigate(`?${queryString}`);\n    }\n    isMounted.current = true;\n  }, [categoryId, sort.sortProperty, currentPage, searchValue]);\n\n  //if was first render, check url-parameters and save in redux\n  React.useEffect(() => {\n    if (window.location.search) {\n      //если window.location.search есть то буду парсить из парпаметров и превращать в объект\n      const params = qs.parse(window.location.search.substring(1)); //парсим и убираем вопросительный знак\n\n      const sort = list.find((obj) => obj.sortProperty === params.sortProperty); // необходимо пробежаться по каждому сво-тву и найти в объекте sortProperty то что есть в params.sortProperty\n\n      dispatch(\n        setFilters({\n          ...params, //sortProperty(ссылка) передаеться как строчка, поэтому в const sort мы пробегаемся по листу и сравниваем, передавая при этом обьект\n          sort,\n        }),\n      );\n    }\n  }, []);\n\n  //if was first render, request pizzas\n  React.useEffect(() => {\n    getPizzas();\n  }, [categoryId, sort.sortProperty, currentPage, searchValue]);\n\n  const skeletons = [...new Array(6)].map((_, index) => <Skeleton key={index} />);\n\n  const pizzas = items.map((obj) => (\n    <Link key={obj.id} to={`/pizza/${obj.id}`}>\n      <PizzaBlock {...obj} />\n    </Link>\n  ));\n\n  return (\n    <div className=\"container\">\n      <div className=\"content__top\">\n        <Categories value={categoryId} onChangeCategory={onChangeCategory} />\n        <Sort />\n      </div>\n      <h2 className=\"content__title\">Все пиццы</h2>\n      {status === 'error' ? (\n        <div className=\"content__error-info\">\n          <h2>\n            Error <span>😕</span>\n          </h2>\n          <p>Failed to get pizzas</p>{' '}\n        </div>\n      ) : (\n        <div className=\"content__items\">{status === 'loading' ? skeletons : pizzas}</div>\n      )}\n\n      <Pagination currentPage={currentPage} onChangePage={onChangePage} />\n    </div>\n  );\n};\nexport default Home;\n","/Users/deniskolomoyets/Documents/Projects/pizza/src/pages/NotFound.jsx",[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/redux/slices/cartSlice.js",[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/redux/slices/filterSlice.js",[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/redux/slices/pizzaSlice.js",[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/components/Search/index.jsx",["109"],[],"import React from 'react';\nimport debounce from 'lodash.debounce';\nimport { setSearchValue } from '../../redux/slices/filterSlice';\nimport { useDispatch } from 'react-redux';\n\nimport searchIcon from '../../assets/img/search-icon.svg';\nimport cancelIcon from '../../assets/img/cancel-icon.svg';\n\nimport styles from './Search.module.scss';\n\nconst Search = () => {\n  const dispatch = useDispatch();\n  const [value, setValue] = React.useState('');\n  const inputRef = React.useRef();\n\n  const onClickClear = () => {\n    dispatch(setSearchValue(''));\n    setValue('');\n    inputRef.current.focus();\n  }; //инпут с самонаведением с помощью хука useref\n\n  const updateSearchValue = React.useCallback(\n    debounce((str) => {\n      dispatch(setSearchValue(str));\n    }, 250),\n    [],\n  ); //-если меняется value, то вызываем это действие; ссылка на функцию и сделали её отложенной\n\n  const onChangeInput = (event) => {\n    setValue(event.target.value);\n    updateSearchValue(event.target.value);\n  };\n\n  return (\n    <div className={styles.root}>\n      <img className={styles.icon} src={searchIcon} alt=\"searchIcon\" />\n      <input\n        ref={inputRef}\n        value={value} //хранит то что мы меняем\n        onChange={onChangeInput}\n        className={styles.input}\n        placeholder=\"Search pizzas\"\n      />\n      {value && (\n        <img\n          onClick={onClickClear}\n          className={styles.cancelIcon}\n          src={cancelIcon}\n          alt=\"cancelIcon\"\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Search;\n","/Users/deniskolomoyets/Documents/Projects/pizza/src/components/CartItem.jsx",[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/components/CartEmpty.jsx",[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/components/Categories.jsx",[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/components/Sort.jsx",[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/components/PizzaBlock/Skeleton.jsx",[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/components/PizzaBlock/index.jsx",[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/Pagination/index.jsx",[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/components/NotFoundBlock/index.jsx",[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/index.tsx",[],[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/App.tsx",[],[],"/Users/deniskolomoyets/Documents/Projects/pizza/src/pages/FullPizza.tsx",["110"],[],{"ruleId":"111","severity":1,"message":"112","line":85,"column":6,"nodeType":"113","endLine":85,"endColumn":63,"suggestions":"114"},{"ruleId":"111","severity":1,"message":"115","line":102,"column":6,"nodeType":"113","endLine":102,"endColumn":8,"suggestions":"116"},{"ruleId":"111","severity":1,"message":"117","line":107,"column":6,"nodeType":"113","endLine":107,"endColumn":63,"suggestions":"118"},{"ruleId":"111","severity":1,"message":"119","line":22,"column":29,"nodeType":"120","endLine":22,"endColumn":46},{"ruleId":"111","severity":1,"message":"121","line":26,"column":6,"nodeType":"113","endLine":26,"endColumn":8,"suggestions":"122"},"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'navigate'. Either include it or remove the dependency array.","ArrayExpression",["123"],"React Hook React.useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["124"],"React Hook React.useEffect has a missing dependency: 'getPizzas'. Either include it or remove the dependency array.",["125"],"React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.","MemberExpression","React Hook React.useEffect has missing dependencies: 'id' and 'navigate'. Either include them or remove the dependency array.",["126"],{"desc":"127","fix":"128"},{"desc":"129","fix":"130"},{"desc":"131","fix":"132"},{"desc":"133","fix":"134"},"Update the dependencies array to be: [categoryId, sort.sortProperty, currentPage, searchValue, navigate]",{"range":"135","text":"136"},"Update the dependencies array to be: [dispatch]",{"range":"137","text":"138"},"Update the dependencies array to be: [categoryId, sort.sortProperty, currentPage, searchValue, getPizzas]",{"range":"139","text":"140"},"Update the dependencies array to be: [id, navigate]",{"range":"141","text":"142"},[2788,2845],"[categoryId, sort.sortProperty, currentPage, searchValue, navigate]",[3606,3608],"[dispatch]",[3700,3757],"[categoryId, sort.sortProperty, currentPage, searchValue, getPizzas]",[641,643],"[id, navigate]"]